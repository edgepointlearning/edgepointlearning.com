<div class="sticky top-0 z-40 hidden w-full px-4 transition-all bg-white shadow-md xl:px-0 md:block">

  <ul class="flex items-stretch h-16 max-w-5xl gap-8 mx-auto">

    <li class="flex items-center flex-auto">
      <a href="#" class="w-full" title="Home">
        {% svg "logo--epl-e", "h-8 aspect-square mg:hidden fill-epl" %}
        {% svg "logo--epl-horizontal", "w-full max-w-[220px] aspect-[358/47] hidden mg:block" %}
      </a>
    </li>

    <li class="flex items-center" x-data="{showChildren:false}" @click.away="showChildren=false">
      <a href="#" class="nav-link" @click.prevent="showChildren=!showChildren">Solutions{% svg "menu--expand-down", "h-4 mt-0.5 aspect-square" %}</a>

      <div class="absolute left-0 w-screen h-screen top-16 bg-black/50 backdrop-blur-sm" 
        x-show="showChildren" 
        @click.prevent="showChildren=!showChildren"  
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100">
      </div>

      <div class="absolute left-0 w-screen max-w-full bg-white shadow-md top-16"
        x-show="showChildren"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 -translate-y-3"
        x-transition:enter-end="opacity-100 translate-y-0"
        >
        <div class="flex flex-wrap max-w-5xl px-2 pb-2 mx-auto place-content-center">
          
          <div class="flex order-last w-1/2 max-w-sm p-6 lg:max-w-none lg:w-2/3">
            <div class="flex-none w-12">
              {% svg "handdrawn--decision-color", "aspect-square opacity-70" %}
            </div>
            <div class="pl-1 text-slate-700">
              <p class="text-sm font-medium lg:text-base">Not sure where to start?</p>
              <div class="w-12 h-[1px] bg-slate-300 my-1.5 lg:hidden"></div>
              <p class="max-w-sm text-xs lg:text-sm lg:mt-1.5">Lorem ipsum dolor sit, amet consectetur adipisicing elit. <a href="" class="font-medium underline text-epl hover:text-black">Explore all of our solutions.</a></p>
            </div>
          </div>

          {% for link in solutions %}
            <div class="w-1/2 max-w-sm p-3 lg:w-1/3">
              <a class="flex p-3 transition bg-white rounded-md group hover:bg-blue-100 ring-1 ring-offset-4 ring-offset-white ring-white hover:ring-epl-light hover:scale-105" href="{{ link.href }}">
                <div class="flex-none w-12">
                  {% assign icon = link.icon | prepend: "handdrawn--" | remove: ".svg" %}
                  {% svg icon, "aspect-square opacity-50 transition origin-bottom group-hover:scale-125 group-hover:opacity-100 group-hover:-rotate-6" %}
                </div>
                <div class="pl-1.5">
                  <p class="text-sm font-medium text-epl group-hover:text-black">{{ link.name }}</p>
                  <div class="w-12 h-[1px] bg-slate-300 my-1.5 group-hover:bg-slate-300 group-hover:scale-x-[300%] transition origin-left"></div>
                  <p class="text-xs text-slate-800">{{ link.desc }}</p>
                </div>
              </a>
            </div>

          {% endfor %}
        </div>
      </div>

    </li>
    
    <li class="flex items-center"><a class="nav-link" href="#">Insights</a></li>
    
    <li class="flex items-center" x-data="{showChildren:false}" @click.away="showChildren=false">
      <a href="#" class="nav-link" @click.prevent="showChildren=!showChildren">About Us{% svg "menu--expand-down", "h-4 mt-0.5 aspect-square" %}</a>

      <div class="absolute left-0 w-screen h-screen top-16 bg-black/50 backdrop-blur-sm" 
        x-show="showChildren" 
        @click.prevent="showChildren=!showChildren"  
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100">
      </div>

      <div class="absolute left-0 w-screen max-w-full bg-white shadow-md top-16" 
        x-show="showChildren"         
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 -translate-y-3"
        x-transition:enter-end="opacity-100 translate-y-0"
        >
        <div class="flex flex-wrap max-w-5xl px-2 pb-2 mx-auto place-content-center">

          {% for link in about %}
            <div class="w-1/4 p-3">

              <a class="flex flex-wrap transition place-content-center group" href="{{ link.href }}">
              
                <div class="z-10 flex w-16">
                  {% assign icon = link.icon | prepend: "handdrawn--" | remove: ".svg" %}
                  {% svg icon, "aspect-square w-full opacity-50 transition origin-bottom group-hover:opacity-100 group-hover:scale-125 group-hover:-rotate-6" %}
                </div>
              
                <div class="p-3 pt-8 -mt-8 text-center transition bg-white rounded-lg group-hover:bg-blue-100 ring-1 ring-offset-4 ring-offset-white ring-transparent group-hover:ring-epl-light group-hover:scale-105">
                  <p class="text-sm font-medium text-epl group-hover:text-black">{{ link.name }}</p>
                  <div class="mx-auto w-12 h-[1px] bg-slate-300 my-1.5 group-hover:scale-x-[300%] group-hover:bg-slate-300 transition origin-center"></div>
                  <p class="text-xs text-slate-800">{{ link.desc }}</p>
                </div>
              
              </a>

            </div>
          {% endfor %}

        </div>
      </div>

    </li>
    
    <li class="flex items-center"><a class="nav-link" href="#">Contact</a></li>
    
    <li class="flex items-center"><a class="
      transition rounded-full whitespace-nowrap 
      text-white text-sm font-light 
      px-4 py-2.5
      bg-gradient-to-br from-black to-blue-600 hover:from-epl-dark
      ring-2 ring-transparent ring-offset-2 ring-offset-white hover:ring-blue-500" href="#">
      Book A Consultation</a></li>
    
    <li class="flex items-center -ml-2"><a class="transition hover:fill-black fill-epl" href="#" title="Search">{% svg "menu--search", "h-6 aspect-square" %}</a></li>

  </ul>

</div>