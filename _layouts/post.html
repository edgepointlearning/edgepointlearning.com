---
layout: default
---
<main>

  {% include nav.html %}

  <article id="post">

    <figure id="post_featured_image">
      <img src="{{site.image_dir}}/{{ page.background }}" alt="blog post featured image">
    </figure>

    <header id="post_header">
      <h1>{{ page.title }}</h1>
      <p>{% if page.author %} Posted by {{ page.author }} on {% endif %} {{ page.date | date: '%B %d, %Y' }}</p>
      {% include social-share.html %}
    </header>

    <section id="post_content">
      {{ content }}
    </section>

    {% if page.related != false %}
    <aside id="post_related">
      <h4>Related Posts</h4>
      <ul>
        {% for post in site.related_posts limit:3 %}
          <li>
            <a href="{{ post.url }}">{{ post.title }} <small>{{ post.date | date: '%B %d, %Y' }}</small></a>
          </li>
        {% endfor %}
      </ul>
    </aside>
    {% endif %}

  </article>

  {% if page.cards %}
  <section id="cards">
    {% for page_card in page.cards %}
      {% for card in site.data.cards %}
        {% if page_card == card.id %}
          {% include card.html %}
        {% endif %}
      {% endfor %}
    {% endfor %}
  </section>
  {% endif %}

  {% include footer.html %}

</main>
<script>
function windowPopup(url, width, height) {
  // Calculate the position of the popup so
  // itâ€™s centered on the screen.
  var left = (screen.width / 2) - (width / 2),
      top = (screen.height / 2) - (height / 2);
  console.log("yo");
  window.open(
    url,
    "",
    "menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=" + width + ",height=" + height + ",top=" + top + ",left=" + left
  );
}

var jsSocialShares = document.querySelectorAll(".js-social-share");
if (jsSocialShares) {
  [].forEach.call(jsSocialShares, function(anchor) {
    anchor.addEventListener("click", function(e) {
      e.preventDefault();

      windowPopup(this.href, 500, 300);
    });
  });
}
</script>
